---
title: Migrando mi blog de Gatsby a 11ty
date: 2023-03-08
description: Hace un par de a√±os mont√© mi web con Gatsby y le acab√© a√±adiendo un blog. D√©jame contarte c√≥mo y por qu√© acab√© migr√°ndolo a 11ty.
tags: [11ty,legacy]
draft: true
coverCopyright: null
---

En 2019 decid√≠ que ya era hora de tener una web decente. En ese entonces trabajaba much√≠simo con [React]() y [Gatsby]() parec√≠a una gran opci√≥n para montarme una web r√°pidamente. Adem√°s, en [theme forest]() hab√≠an plantillas de Gatsby que pod√≠a comprar para acelerar el proceso. No parec√≠a un mal plan y la verdad es que por 50$ quitarme todo el trabajo de dise√±ar una web junto con su blog me parec√≠a bastante rentable. 

En fin me acab√© poniendo manos a ello y cre√© mi web, al principio sin blog. Hab√≠a comprado la plantilla y la hab√≠a adaptado para que no fuera tal cual la compr√©, sino que tuviera un poco de mi estilo. La realidad es que le acab√© metiendo much√≠sima mano e inviertiendo bastante tiempo. La web qued√≥ a mi gusto y estaba bastante contento con el resultado final. Sin embargo, con el paso de los a√±os [Gatsby]() sigui√≥ sacando versiones y los plugins que usaba mi web se estaban quedando obsoletos y tuve que migrar de Gatsby 2 a Gatsby 3. No fue un infierno, pero me hizo darme cuenta que ten√≠a muy poco control sobre mi web. 

Al margen de la migraci√≥n de versiones de Gatsby, me di cuenta de que se me hac√≠a dif√≠cil hacer crecer la web, a veces incluso de mantenerla. Gatsby es muy potente, pero tambi√©n tiene mucha magia negra por detr√°s üßô‚Äç‚ôÇÔ∏è. A veces los flujos de datos se me complicaban un poco. Sin embargo, lo que m√°s dolores de cabeza me daba es que la plantilla que hab√≠a comprado segu√≠a convenciones de c√≥digo con las que no estaba de acuerdo, adem√°s de que la carpeta de componentes era un agujero negro en el que los sue√±os mueren. Estoy a favor de [Atomic Design](), pero no de tener componentes at√≥micos que solo se usan en un sitio.

La realidad es que el sentimiento que ten√≠a a la hora de querer hacer cosas en mi web era negativo. La fricci√≥n que ten√≠a con mi propia web no me gustaba as√≠ que decid√≠ que hab√≠a migrar a otro sistema. Como para ese entonces ya llevaba un par de meses usando Obsidian y gestionando mi cerebro digital, ten√≠a claras un par de cosas. Mi web ten√≠a que ser lo m√°s *future proof* posible. Esto me parec√≠a inviable con React de por medio, prefer√≠a buscar una alternativa que tuviera [*web components*]() de por medio. De esta manera, al basarse en un est√°ndar el frontend que escribiera aguantar√≠a mejor el paso del tiempo. Por otro lado, quer√≠a que todo lo que escribiera a nivel de contenido fueran ficheros Markdown. En mi web con Gatsby ten√≠a un buen l√≠o entre ficheros `.mdx` y `.tsx`. Adem√°s, teniendo *web components* pod√≠a usarlos en mis archivos Markdown, pero sin el dolor de cabeza de tener dependencias con React y MDX en general.

Ten√≠a claro que es lo que quer√≠a, pero no ten√≠a ni idea de con qu√© pod√≠a construirlo. Un d√≠a tomando un caf√© con mi amiga [Alba](https://www.albaherrerias.dev/) me cont√≥ que su web se la hab√≠a montado con [11ty]() y que estaba muy contenta. Antes hab√≠a o√≠do hablar de 11ty, pero no le hab√≠a hecho caso. Resulta que viene a ser un [Jekyll](), pero basado en Node.js en vez de Ruby. Sonaba muy bien. Adem√°s, que todo fuera con Node.js era un gran punto a su favor. Curiosamente este no era su √∫nico punto a favor. El mismo creador de 11ty, **un fulano del cual pondr√© el nombre aqu√≠**, hab√≠a creado algo pensado para ser usado con 11ty: [WebC](https://github.com/11ty/webc). WebC, es una manera de tener *Single File Web Components* y poder usarlo como motor de plantillas como Nunjucks o Moustache.

A m√≠ me hablas de *Single File Components* y se me erizan los pelos de la ~~cuca~~ nuca. Cuando los us√© en [Vue]() me enamoraron porque, si te ci√±es a estructura y estilos, es algo muy cercano a lo que escribir√≠as en un componente nativo. Pues WebC ofrece la misma experiencia, pero yendo un paso m√°s all√° permiti√©ndote tener estos *Single File Components* usando tecnolog√≠a nativa con algunas mejoras propias. De esta manera, da la sensaci√≥n de estar trabajando en Vue y en algunos momentos con React, pero sin todas las dependencias. WebC lo renderizar√° todo y lo dejar√° listo para que puedas renderizar desde servidor.

Hablando de dependencias, esto es algo que me ha sorprendido mucho despu√©s de la migraci√≥n. Antes el 70% de mi package.json era dedicado a dependencias, ahora ser√° en torno a un 30%. Adem√°s, las configuraciones en 11ty se me han hecho mucho m√°s sencillas que en mi web anterior con Gatsby. Gatsby siempre me ha parecido s√∫per potente, pero al final lo que necesito es un generador de p√°ginas est√°ticas sin muchas florituras. Que s√≠, trabajar con GraphQl mola, pero me parece sobredimensionado para hacer una p√°gina web con un blog.

He de a√±adir que aunque parezca que me encanta 11ty con WebC y no volver√≠a a tocar un proyecto con Gatsby ni con un palo atado a otro palo, tampoco es as√≠. O al menos, no del todo. Respeto el trabajo que hay detr√°s de Gatsby y valoro mucho la velocidad con la que pude montarme mi web. Tambi√©n lo he usado en otras webs como [esta](https://mariachi.soy) y estoy contento con el resultado. Sin embargo, Gatsby est√° yendo hacia Next y yo necesito un Jekyll que sobreviva el paso del tiempo. Por ello estoy contento con 11ty y WebC, porque, m√°s all√° de alguna cosa m√°s *fancy*, casi todo mi c√≥digo es mayormente CSS v√°lido, HTML v√°lido y JavaScript v√°lido. Y el contenido siguen siendo ficheros Markdown que usan web components. No digo que mi web vaya a sobrevivir un holocausto, pero sin duda he encontrado un buen balance entre *DX*(*Developer eXperience*, experiencia de desarrollo), minimizando el riesgo de que la web se quede obsoleta y la versatibilidad de dispositivos y aplicaciones desde la que puedo escribir mis entradas. La realidad es que MDX a veces da problemas con seg√∫n que aplicaciones para iOS o iPad, con Markdown es todo lo contrario.

Incluso con todo esto me veo en la obligaci√≥n de avisar que WebC me cost√≥. No porque no fuera intuitivo, sino porque estaba acostumbrado a hacer frontend con React. Cambiar el *mindset* hacia *web components* fue un proceso. Tambi√©n me cost√≥ porque WebC est√° reci√©n salido del horno y aunque tiene documentaci√≥n y hay ejemplos, no es lo mismo que con Nunjucks, Vue o React. Estaba tan reci√©n salido del horno, que en 11ty ten√≠a que usar la versi√≥n 2-alpha. Ya est√° algo m√°s estabilizado, pero cuando empec√© con la migraci√≥n era *cutting-edge*. Siempre acabo siendo el mismo flipado que se mete a usar cosas reci√©n salidas del horno y claro, me quemo las manos üòÖ.

Para las cosas complicadas he usado microfrontend. Por ahora es s√≥lo un componente, pero mola saber que puedo usar React cuando lo necesite.

